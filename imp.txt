<?php
        require_once("vendor/autoload.php");
        // use Kreait\Firebase\Database;
        use Kreait\Firebase\Factory;
        
        $factory = (new Factory())->withDatabaseUri('https://regify-67daa-default-rtdb.asia-southeast1.firebasedatabase.app');
        $database = $factory->createDatabase();
        $reference = $database->getReference('users/');
        $snapshot = $reference->getSnapshot();
        
        $value = $snapshot->getValue();
        print_r($value)
        
        
    <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics.js";
            import { getDatabase, ref, set, onValue} from "https://www.gstatic.com/firebasejs/9.6.0/firebase-database.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
            
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
                apiKey: "AIzaSyAoW6MBFQ_Oc1ijljSEcmjDg28gQ-15EK8",
                authDomain: "regify-67daa.firebaseapp.com",
                projectId: "regify-67daa",
                storageBucket: "regify-67daa.appspot.com",
                messagingSenderId: "64215801309",
                appId: "1:64215801309:web:5dc445c7cb3e17b3e96a34",
                databaseURL: "https://regify-67daa-default-rtdb.asia-southeast1.firebasedatabase.app",
                measurementId: "G-FT2Z3HKCSL"
            };
            
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const db = getDatabase();
            
            const starCountRef = ref(db, 'users/');
            onValue(starCountRef, (snapshot) => {
                const data = snapshot.val();
                console.log(data);
            });
            // function writeUserData(userId, name, email, imageUrl) {
                //     const db = getDatabase();
                //     set(ref(db, 'users/' + userId), {
                    //         username: name,
                    //         email: email,
                    //         profile_picture: imageUrl
                    //     });
                    // }
                    // writeUserData("ss", "ld", "dd@gg","ssdd/ss")
                </script> 
